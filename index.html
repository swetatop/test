<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Military Academy / UG5</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <style>
        :root {
            --bg: #0D0F15;
            --card: #1A1D25;
            --accent: #2A2E3A;
            --text: #FFFFFF;
            --primary: linear-gradient(135deg, #5D8C42 0%, #3A5C2A 100%);
            --primary-hover: linear-gradient(135deg, #6D9C52 0%, #4A6C3A 100%);
            --card-gradient: linear-gradient(135deg, #151820 0%, #2A3A1A 100%);
            --card-gradient-hover: linear-gradient(135deg, #252830 0%, #3A4A2A 100%);
            --text-gray: #CCCCCC;
            --success: #4CAF50;
            --error: #f44336;
            --link-color: #6D9C52;
            --link-hover: #7DAC62;
            --warning: #ff9800;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            padding-bottom: 60px;
            font-family: 'Inter', Arial, sans-serif;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Inter', Arial, sans-serif;
            color: #FFFFFF;
        }
        
        h1 { font-weight: 700; font-size: 2.5rem; }
        h2 { font-weight: 600; font-size: 2rem; }
        h3 { font-weight: 500; font-size: 1.5rem; }
        
        /* üî• –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 3000;
            animation: slideIn 0.3s ease;
            max-width: 400px;
            word-wrap: break-word;
            font-weight: 500;
        }
        
        .notification.success {
            background: var(--success);
            color: white;
        }
        
        .notification.error {
            background: var(--error);
            color: white;
        }
        
        .notification.warning {
            background: var(--warning);
            color: black;
        }
        
        .notification.info {
            background: var(--primary);
            color: white;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        /* üîç –ü–û–ò–°–ö */
        .search-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1001;
            width: 90%;
            max-width: 400px;
        }
        
        .search-box {
            background: var(--card);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 25px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .search-input {
            background: transparent;
            border: none;
            color: var(--text);
            font-size: 14px;
            width: 100%;
            outline: none;
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--card);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            margin-top: 5px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 1002;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .search-result-item {
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .search-result-item:hover {
            background: var(--primary);
        }
        
        .search-result-item:last-child {
            border-bottom: none;
        }
        
        /* ‚≠ê –ò–ó–ë–†–ê–ù–ù–û–ï */
        .favorite-btn {
            background: transparent;
            border: none;
            color: var(--text-gray);
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
            position: absolute;
            top: 10px;
            right: 50px;
        }
        
        .favorite-btn.active {
            color: gold;
        }
        
        /* üíæ –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï */
        .backup-section {
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .backup-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(42, 46, 58, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(42, 58, 26, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(93, 140, 66, 0.15) 0%, transparent 50%);
            z-index: -1;
        }
        
        /* WYSIWYG Editor Styles */
        .editor-toolbar {
            background: var(--card);
            border: 1px solid var(--accent);
            border-radius: 8px 8px 0 0;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            border-bottom: none;
        }
        
        .editor-btn {
            background: var(--accent);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--text);
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .editor-btn:hover {
            background: var(--primary);
        }
        
        .editor-content {
            min-height: 300px;
            background: var(--card);
            border: 1px solid var(--accent);
            border-radius: 0 0 8px 8px;
            padding: 15px;
            color: var(--text);
            line-height: 1.6;
            outline: none;
        }
        
        /* Color Picker */
        .color-picker {
            display: none;
            position: absolute;
            background: var(--card);
            border: 1px solid var(--accent);
            border-radius: 6px;
            padding: 10px;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .color-option {
            width: 25px;
            height: 25px;
            border-radius: 3px;
            margin: 2px;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        /* Auth Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .auth-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .auth-content {
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: var(--text-gray);
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            background: rgba(13, 15, 21, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: var(--text);
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #6D9C52;
        }
        
        .auth-button {
            width: 100%;
            padding: 12px;
            background: var(--primary);
            border: none;
            border-radius: 6px;
            color: var(--text);
            cursor: pointer;
            margin-top: 10px;
        }
        
        .auth-button:hover {
            background: var(--primary-hover);
        }
        
        .auth-message {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
            display: none;
        }
        
        .auth-message.success {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid var(--success);
            display: block;
        }
        
        .auth-message.error {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid var(--error);
            display: block;
        }
        
        /* User Panel */
        .user-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-info {
            background: var(--primary);
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 14px;
            color: #FFFFFF;
        }
        
        .admin-button {
            background: var(--primary);
            border: none;
            color: var(--text);
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .admin-button:hover {
            background: var(--primary-hover);
        }
        
        .login-button {
            background: var(--primary);
            border: none;
            color: var(--text);
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .login-button:hover {
            background: var(--primary-hover);
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            z-index: 2001;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        
        .admin-panel.active {
            display: block;
        }
        
        .admin-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .admin-overlay.active {
            display: block;
        }
        
        .users-info {
            background: rgba(13, 15, 21, 0.6);
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #6D9C52;
        }
        
        .users-info p {
            margin: 5px 0;
            font-size: 14px;
            color: #FFFFFF;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–æ–≤ */
        .logs-section {
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        
        .logs-list {
            max-height: 300px;
            overflow-y: auto;
            background: rgba(26, 29, 37, 0.6);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .log-item {
            padding: 10px 12px;
            margin-bottom: 8px;
            background: rgba(42, 46, 58, 0.8);
            border-radius: 6px;
            border-left: 4px solid #6D9C52;
            font-size: 13px;
            transition: all 0.3s ease;
            color: #FFFFFF;
        }
        
        .log-item:hover {
            background: rgba(42, 46, 58, 0.9);
            transform: translateX(2px);
        }
        
        .log-time {
            color: var(--text-gray);
            font-size: 11px;
            margin-right: 10px;
        }
        
        .log-user {
            color: #6D9C52;
            font-weight: bold;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .add-card-btn {
            background: var(--primary);
            color: var(--text);
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .add-card-btn:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .delete-card-btn {
            background: var(--error);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
            opacity: 0;
            transition: all 0.3s ease;
            position: absolute;
            top: 10px;
            right: 10px;
        }
        
        .chapter-card:hover .delete-card-btn {
            opacity: 1;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ */
        .card-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .card-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-modal-content {
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        
        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: rgba(26, 29, 37, 0.95);
            backdrop-filter: blur(10px);
            transition: left 0.3s ease;
            z-index: 1000;
            padding: 20px;
            border-right: 1px solid rgba(255,255,255,0.1);
        }
        
        .sidebar.active {
            left: 0;
        }
        
        .sidebar.active ~ .menu-toggle {
            left: 260px;
            transition: left 0.3s ease;
        }
        
        .menu-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary);
            border: none;
            color: var(--text);
            font-size: 16px;
            padding: 10px 15px;
            cursor: pointer;
            z-index: 1001;
            border-radius: 6px;
            transition: all 0.3s;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .menu-toggle:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }
        
        .sidebar h2 {
            color: var(--text);
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.25rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .sidebar-nav {
            list-style: none;
            margin-bottom: 30px;
        }
        
        .sidebar-nav li {
            margin-bottom: 10px;
            position: relative;
        }
        
        .sidebar-nav a {
            color: var(--text);
            text-decoration: none;
            font-size: 14px;
            padding: 12px 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-radius: 6px;
            transition: all 0.3s;
            border: 1px solid transparent;
            background: rgba(42, 46, 58, 0.6);
        }
        
        .sidebar-nav a:hover,
        .sidebar-nav a.active {
            background: var(--primary);
            border-color: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }
        
        .nav-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .discord-link {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        .discord-link a {
            color: var(--text);
            text-decoration: none;
            font-size: 14px;
            padding: 12px 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-radius: 6px;
            transition: all 0.3s;
            border: 1px solid transparent;
            background: rgba(42, 46, 58, 0.6);
        }
        
        .discord-link a:hover {
            background: var(--primary);
            border-color: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }
        
        /* Enhanced Dropdown Styles */
        .dropdown-content {
            display: none;
            position: absolute;
            left: 100%;
            top: 0;
            background: rgba(26, 29, 37, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            padding: 15px;
            min-width: 280px;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            z-index: 1002;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-section {
            margin-bottom: 15px;
        }
        
        .dropdown-section:last-child {
            margin-bottom: 0;
        }
        
        .dropdown-section-title {
            color: var(--text-gray);
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 8px;
            padding-bottom: 5px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-transform: uppercase;
        }
        
        .dropdown-content a {
            margin-bottom: 5px;
            font-size: 13px;
            padding: 8px 12px;
            display: block;
            border-radius: 4px;
            transition: all 0.3s ease;
            color: #FFFFFF;
            text-decoration: none;
        }
        
        .dropdown-content a:hover {
            background: var(--primary);
        }
        
        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 40px;
        }
        
        /* Welcome Section */
        .welcome-section {
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }
        
        .welcome-section h1 {
            color: #FFFFFF;
            margin-bottom: 15px;
            font-size: 2rem;
        }
        
        .welcome-section p {
            color: var(--text-gray);
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Quick Cards */
        .quick-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .card {
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }
        
        .card:hover {
            background: var(--card-gradient-hover);
            border-color: rgba(255,255,255,0.2);
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
        }
        
        .card h3 {
            font-size: 1.5rem;
            color: #FFFFFF;
        }
        
        /* Pages */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* Chapters Grid */
        .chapters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .chapter-card {
            background: var(--card-gradient);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            position: relative;
        }
        
        .chapter-card:hover {
            background: var(--card-gradient-hover);
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(255,255,255,0.2);
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
        }
        
        .chapter-card h4 {
            font-size: 1.1rem;
            color: #FFFFFF;
            line-height: 1.4;
        }
        
        /* Content Pages */
        .content-page {
            background: rgba(26, 29, 37, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 30px;
            margin-top: 20px;
            min-height: 500px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .content-header {
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 20px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .content-body {
            line-height: 1.8;
            color: var(--text-gray);
            margin-bottom: 30px;
            font-family: 'Inter', sans-serif;
        }
        
        .content-body a {
            color: #6D9C52 !important;
            text-decoration: none !important;
            border-bottom: 1px solid #6D9C52;
            transition: all 0.3s ease;
            cursor: pointer !important;
        }
        
        .content-body a:hover {
            color: #7DAC62 !important;
            border-bottom: 1px solid #7DAC62;
        }
        
        .content-body ul, .content-body ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .content-body li {
            margin-bottom: 5px;
            color: #FFFFFF;
        }
        
        .content-body code {
            background: rgba(13, 15, 21, 0.8);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            color: #FFFFFF;
        }
        
        .content-body pre {
            background: rgba(13, 15, 21, 0.8);
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
            color: #FFFFFF;
        }
        
        .content-body blockquote {
            border-left: 4px solid #6D9C52;
            padding-left: 15px;
            margin: 15px 0;
            color: var(--text-gray);
            font-style: italic;
        }
        
        .edit-section {
            background: rgba(42, 46, 58, 0.6);
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            border-left: 4px solid transparent;
            border-image: var(--primary);
            border-image-slice: 1;
        }
        
        .edit-textarea {
            width: 100%;
            height: 300px;
            background: rgba(13, 15, 21, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px;
            color: var(--text);
            padding: 15px;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 15px;
            font-family: 'Inter', sans-serif;
        }
        
        .edit-textarea:focus {
            outline: none;
            border-color: #6D9C52;
            box-shadow: 0 0 10px rgba(109, 156, 82, 0.3);
        }
        
        .edit-button {
            background: var(--primary);
            color: var(--text);
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .edit-button:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }
        
        /* Navigation Buttons */
        .nav-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        .nav-btn {
            background: var(--primary);
            color: var(--text);
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .nav-btn:hover {
            background: var(--primary-hover);
            transform: translateY(-3px);
        }
        
        /* Back Button */
        .back-button {
            background: var(--primary);
            color: var(--text);
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .back-button:hover {
            background: var(--primary-hover);
            transform: translateX(-3px) translateY(-2px);
        }
        
        /* RP Tasks Section */
        .rp-tasks {
            margin-top: 50px;
        }
        
        /* Footer */
        .footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            padding: 20px;
            color: var(--text-gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            background: rgba(26, 29, 37, 0.8);
            backdrop-filter: blur(10px);
        }
        
        .footer p {
            margin: 0;
            opacity: 0.8;
        }
        
        /* üì± –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 768px) {
            .container {
                padding: 80px 15px 40px;
            }
            
            .user-panel {
                position: static;
                margin-bottom: 20px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .search-container {
                position: static;
                transform: none;
                margin: 0 auto 20px;
                width: 100%;
            }
            
            .sidebar {
                width: 250px;
                left: -250px;
            }
            
            .sidebar.active ~ .menu-toggle {
                left: 210px;
            }
            
            .dropdown-content {
                position: static;
                display: none;
                background: rgba(42, 46, 58, 0.8);
                margin-top: 5px;
                border-radius: 6px;
            }
            
            .dropdown.active .dropdown-content {
                display: block;
            }
            
            .editor-toolbar {
                gap: 3px;
                padding: 8px;
                overflow-x: auto;
            }
            
            .editor-btn {
                padding: 6px 8px;
                font-size: 12px;
            }
            
            .quick-cards {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .chapters-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .nav-buttons {
                grid-template-columns: 1fr;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .welcome-section {
                padding: 20px;
            }
            
            .welcome-section h1 {
                font-size: 1.5rem;
            }
            
            .content-page {
                padding: 20px;
            }
            
            .menu-toggle {
                top: 10px;
                left: 10px;
                padding: 8px 12px;
                font-size: 14px;
            }
        }
        
        @media (max-width: 480px) {
            .auth-content, .card-modal-content {
                padding: 20px;
                margin: 10px;
            }
            
            .editor-toolbar {
                justify-content: flex-start;
            }
            
            .backup-buttons {
                flex-direction: column;
            }
        }

        /* Loading Spinner */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #6D9C52;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            text-align: center;
            color: var(--text-gray);
            margin-top: 10px;
        }

        /* –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ */
        .card {
            cursor: pointer !important;
        }

        .nav-link {
            cursor: pointer !important;
        }

        /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ */
        .card:hover {
            outline: 2px solid #6D9C52;
        }

        .nav-link:hover {
            outline: 2px solid #6D9C52;
        }
    </style>
</head>
<body>
    <!-- üîç –ü–û–ò–°–ö -->
    <div class="search-container">
        <div class="search-box">
            <span>üîç</span>
            <input type="text" class="search-input" id="global-search" placeholder="–ü–æ—à—É–∫ –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É...">
            <div class="search-results" id="search-results"></div>
        </div>
    </div>

    <div class="background-overlay"></div>
    
    <!-- Auth Modal -->
    <div class="auth-modal">
        <div class="auth-content">
            <h3 style="text-align: center; margin-bottom: 20px;">–í—Ö—ñ–¥ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
            
            <div class="auth-form active" id="login-form">
                <div class="form-group">
                    <label>–õ–æ–≥—ñ–Ω:</label>
                    <input type="text" id="login-username" placeholder="–í–≤–µ–¥—ñ—Ç—å –ª–æ–≥—ñ–Ω">
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="login-password" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å">
                </div>
                <button class="auth-button" onclick="login()">–£–≤—ñ–π—Ç–∏</button>
                <div class="auth-message" id="login-message"></div>
            </div>
        </div>
    </div>

    <!-- Card Creation Modal -->
    <div class="card-modal">
        <div class="card-modal-content">
            <h3 style="text-align: center; margin-bottom: 20px;" id="card-modal-title">–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–∞—Ä—Ç–∫—É</h3>
            
            <div class="form-group">
                <label>ID –∫–∞—Ä—Ç–∫–∏ (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä):</label>
                <input type="text" id="new-card-id" placeholder="–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: new-topic">
                <div style="background: rgba(13, 15, 21, 0.6); padding: 10px; border-radius: 6px; margin-top: 8px; border-left: 3px solid #6D9C52;">
                    <small style="color: var(--text-gray); line-height: 1.4; display: block;">
                        <strong>üìã –ü—Ä–∞–≤–∏–ª–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è ID:</strong><br>
                        ‚Ä¢ –ú–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º –≤ –º–µ–∂–∞—Ö —Ä–æ–∑–¥—ñ–ª—É<br>
                        ‚Ä¢ –ù–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è<br>
                        ‚Ä¢ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω—å —Ç–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó<br>
                        ‚Ä¢ <strong>–¢—ñ–ª—å–∫–∏ –ª–∞—Ç–∏–Ω—Å—å–∫—ñ –ª—ñ—Ç–µ—Ä–∏, —Ü–∏—Ñ—Ä–∏ —Ç–∞ –¥–µ—Ñ—ñ—Å–∏</strong><br>
                        ‚Ä¢ –ù–∞–ø—Ä–∏–∫–ª–∞–¥: <code>new-topic</code>, <code>weapon-training</code>, <code>advanced-tactics</code>
                    </small>
                </div>
            </div>
            <div class="form-group">
                <label>–ù–∞–∑–≤–∞ –∫–∞—Ä—Ç–∫–∏:</label>
                <input type="text" id="new-card-title" placeholder="–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: –ù–æ–≤–∞ —Ç–µ–º–∞">
            </div>
            <div class="form-group">
                <label>–ü–æ—á–∞—Ç–∫–æ–≤–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç:</label>
                <div class="editor-toolbar" id="editor-toolbar">
                    <button class="editor-btn" onclick="formatText('bold')" title="–ñ–∏—Ä–Ω–∏–π"><b>B</b></button>
                    <button class="editor-btn" onclick="formatText('italic')" title="–ö—É—Ä—Å–∏–≤"><i>I</i></button>
                    <button class="editor-btn" onclick="formatText('underline')" title="–ü—ñ–¥–∫—Ä–µ—Å–ª–µ–Ω–Ω—è"><u>U</u></button>
                    <button class="editor-btn" onclick="formatText('strikeThrough')" title="–ó–∞–∫—Ä–µ—Å–ª–µ–Ω–∏–π">S</button>
                    <button class="editor-btn" onclick="formatText('insertUnorderedList')" title="–ú–∞—Ä–∫–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫">‚â°</button>
                    <button class="editor-btn" onclick="formatText('insertOrderedList')" title="–ù—É–º–µ—Ä–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫">‚Ññ</button>
                    <button class="editor-btn" onclick="showColorPicker('foreColor')" title="–ö–æ–ª—ñ—Ä —Ç–µ–∫—Å—Ç–∞">A</button>
                    <button class="editor-btn" onclick="showColorPicker('hiliteColor')" title="–ö–æ–ª—ñ—Ä —Ñ–æ–Ω—É">‚ñ¢</button>
                    <button class="editor-btn" onclick="formatText('justifyLeft')" title="–ü–æ –ª—ñ–≤–æ–º—É –∫—Ä–∞—é">‚´§</button>
                    <button class="editor-btn" onclick="formatText('justifyCenter')" title="–ü–æ —Ü–µ–Ω—Ç—Ä—É">‚´£</button>
                    <button class="editor-btn" onclick="formatText('justifyRight')" title="–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é">‚´•</button>
                    <button class="editor-btn" onclick="insertLink()" title="–í—Å—Ç–∞–≤–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è">üîó</button>
                    <button class="editor-btn" onclick="insertImage()" title="–í—Å—Ç–∞–≤–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è">üñºÔ∏è</button>
                </div>
                <div class="editor-content" id="new-card-content" contenteditable="true">
                    # –ù–æ–≤–∞ —Ç–µ–º–∞\n\n–¢–µ–∫—Å—Ç —â–µ –Ω–µ –¥–æ–¥–∞–Ω–æ
                </div>
                <div class="color-picker" id="color-picker">
                    <div style="display: flex; flex-wrap: wrap; width: 150px;">
                        <div class="color-option" style="background: #FF0000;" onclick="setColor('#FF0000')"></div>
                        <div class="color-option" style="background: #00FF00;" onclick="setColor('#00FF00')"></div>
                        <div class="color-option" style="background: #0000FF;" onclick="setColor('#0000FF')"></div>
                        <div class="color-option" style="background: #FFFF00;" onclick="setColor('#FFFF00')"></div>
                        <div class="color-option" style="background: #FF00FF;" onclick="setColor('#FF00FF')"></div>
                        <div class="color-option" style="background: #00FFFF;" onclick="setColor('#00FFFF')"></div>
                        <div class="color-option" style="background: #000000;" onclick="setColor('#000000')"></div>
                        <div class="color-option" style="background: #FFFFFF;" onclick="setColor('#FFFFFF')"></div>
                        <div class="color-option" style="background: #808080;" onclick="setColor('#808080')"></div>
                        <div class="color-option" style="background: #C0C0C0;" onclick="setColor('#C0C0C0')"></div>
                        <div class="color-option" style="background: #800000;" onclick="setColor('#800000')"></div>
                        <div class="color-option" style="background: #008000;" onclick="setColor('#008000')"></div>
                    </div>
                </div>
            </div>
            
            <button class="auth-button" onclick="createNewCard()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É</button>
            <button class="auth-button" onclick="closeCardModal()" style="background: var(--error); margin-top: 10px;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-overlay"></div>
    <div class="admin-panel">
        <h3>–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
        
        <div class="users-info">
            <p><strong>–ü–æ—Ç–æ—á–Ω–∏–π –∞–¥–º—ñ–Ω:</strong> <span id="current-admin">admin</span></p>
        </div>

        <div class="form-group">
            <label>–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</label>
            <input type="text" id="new-username" placeholder="–õ–æ–≥—ñ–Ω –Ω–æ–≤–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞">
            <input type="password" id="new-password" placeholder="–ü–∞—Ä–æ–ª—å –Ω–æ–≤–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞" style="margin-top: 10px;">
            <button class="auth-button" onclick="addUser()" style="margin-top: 10px;">–î–æ–¥–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button>
        </div>

        <div class="backup-section">
            <h4>üíæ –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è</h4>
            <div class="backup-buttons">
                <button class="auth-button" onclick="exportData()">–ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ</button>
                <button class="auth-button" onclick="document.getElementById('import-file').click()">–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ</button>
                <input type="file" id="import-file" accept=".json" style="display: none" onchange="importData(this.files[0])">
            </div>
        </div>
        
        <div class="logs-section">
            <h4>–û—Å—Ç–∞–Ω–Ω—ñ –¥—ñ—ó –≤ —Å–∏—Å—Ç–µ–º—ñ:</h4>
            <div class="logs-list" id="logs-list">
                <!-- –õ–æ–≥–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <button class="auth-button" onclick="closeAdminPanel()">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>

    <!-- User Panel -->
    <div class="user-panel">
        <button class="login-button" onclick="showLoginModal()" id="login-btn">–í—Ö—ñ–¥ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button>
        <div class="user-info" id="user-info" style="display: none;"></div>
        <button class="admin-button" onclick="showAdminPanel()" id="admin-btn" style="display: none;">–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</button>
        <button class="admin-button" onclick="logout()" id="logout-btn" style="display: none;">–í–∏–π—Ç–∏</button>
    </div>
    
    <!-- Sidebar Menu -->
    <button class="menu-toggle">‚ò∞ –ú–µ–Ω—é</button>
    
    <div class="sidebar">
        <h2>Military Academy</h2>
        <ul class="sidebar-nav">
            <li><a href="#" class="nav-link active" data-page="home">
                <span class="nav-icon">üè†</span>–ì–æ–ª–æ–≤–Ω–∞
            </a></li>
            <li class="dropdown">
                <a href="#" class="nav-link" data-page="exams">
                    <span class="nav-icon">‚ö°</span>–Ü—Å–ø–∏—Ç–∏
                </a>
                <div class="dropdown-content">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </li>
            <li class="dropdown">
                <a href="#" class="nav-link" data-page="lectures">
                    <span class="nav-icon">üìö</span>–õ–µ–∫—Ü—ñ—ó
                </a>
                <div class="dropdown-content">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </li>
            <li class="dropdown">
                <a href="#" class="nav-link" data-page="training">
                    <span class="nav-icon">üí™</span>–¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
                </a>
                <div class="dropdown-content">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </li>
            <li class="dropdown">
                <a href="#" class="nav-link" data-page="tasks">
                    <span class="nav-icon">üéØ</span>–†–ü –ó–∞–≤–¥–∞–Ω–Ω—è
                </a>
                <div class="dropdown-content">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </li>
        </ul>
        
        <div class="discord-link">
            <a href="https://discord.com/users/808726131020791869" target="_blank">
                <span class="nav-icon">üí°</span>–î–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π: Discord
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="welcome-section">
                <h1>–®–∞–Ω–æ–≤–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏!</h1>
                <p>–¶–µ–π —Å–∞–π—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –¥–æ–ø–æ–º–æ–≥–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º Military Academy —É –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ —Å–ª—É–∂–±–æ–≤–∏—Ö –æ–±–æ–≤'—è–∑–∫—ñ–≤, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ñ –Ω–∞–≤—á–∞–ª—å–Ω–∏—Ö –∑–∞–Ω—è—Ç—å —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤—Ü—ñ –∫—É—Ä—Å–∞–Ω—Ç—ñ–≤.</p>
            </div>

            <div class="quick-cards">
                <div class="card" data-page="exams">
                    <h3>–Ü—Å–ø–∏—Ç–∏</h3>
                </div>
                <div class="card" data-page="lectures">
                    <h3>–õ–µ–∫—Ü—ñ—ó</h3>
                </div>
                <div class="card" data-page="training">
                    <h3>–¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</h3>
                </div>
            </div>

            <div class="rp-tasks">
                <div class="card" data-page="tasks">
                    <h3>–†–ü –ó–∞–≤–¥–∞–Ω–Ω—è</h3>
                </div>
            </div>
        </div>

        <!-- Exams Page -->
        <div id="exams" class="page">
            <button class="back-button" onclick="showPage('home')">‚Üê –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó</button>
            <div class="section-header">
                <h2>–Ü—Å–ø–∏—Ç–∏</h2>
                <button class="add-card-btn" onclick="showCardModal('exam')">
                    ‚ûï –î–æ–¥–∞—Ç–∏ —ñ—Å–ø–∏—Ç
                </button>
            </div>
            <div class="chapters-grid" id="exams-grid">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∏c–ø–∏—Ç–æ–≤ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                <div class="chapter-card" onclick="showContentPage('exam-basic', '–ë–∞–∑–æ–≤–∏–π —ñ—Å–ø–∏—Ç')">
                    <h4>–ë–∞–∑–æ–≤–∏–π —ñ—Å–ø–∏—Ç</h4>
                </div>
            </div>
        </div>

        <!-- Lectures Page -->
        <div id="lectures" class="page">
            <button class="back-button" onclick="showPage('home')">‚Üê –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó</button>
            <div class="section-header">
                <h2>–õ–µ–∫—Ü—ñ—ó</h2>
                <button class="add-card-btn" onclick="showCardModal('lecture')">
                    ‚ûï –î–æ–¥–∞—Ç–∏ –ª–µ–∫—Ü—ñ—é
                </button>
            </div>
            <div class="chapters-grid" id="lectures-grid">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –ª–µ–∫—Ü–∏–π –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                <div class="chapter-card" onclick="showContentPage('lecture-tactics', '–¢–∞–∫—Ç–∏–∫–∞ –≤–µ–¥–µ–Ω–Ω—è –±–æ—é')">
                    <h4>–¢–∞–∫—Ç–∏–∫–∞ –≤–µ–¥–µ–Ω–Ω—è –±–æ—é</h4>
                </div>
            </div>
        </div>

        <!-- Training Page -->
        <div id="training" class="page">
            <button class="back-button" onclick="showPage('home')">‚Üê –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó</button>
            <div class="section-header">
                <h2>–¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</h2>
                <button class="add-card-btn" onclick="showCardModal('training')">
                    ‚ûï –î–æ–¥–∞—Ç–∏ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
                </button>
            </div>
            <div class="chapters-grid" id="training-grid">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                <div class="chapter-card" onclick="showContentPage('training-shooting', '–°—Ç—Ä—ñ–ª—å–±–∞')">
                    <h4>–°—Ç—Ä—ñ–ª—å–±–∞</h4>
                </div>
            </div>
        </div>

        <!-- Tasks Page -->
        <div id="tasks" class="page">
            <button class="back-button" onclick="showPage('home')">‚Üê –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó</button>
            <div class="section-header">
                <h2>–†–ü –ó–∞–≤–¥–∞–Ω–Ω—è</h2>
                <button class="add-card-btn" onclick="showCardModal('task')">
                    ‚ûï –î–æ–¥–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è
                </button>
            </div>
            <div class="chapters-grid" id="tasks-grid">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞–Ω–∏–π –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                <div class="chapter-card" onclick="showContentPage('task-patrol', '–ü–∞—Ç—Ä—É–ª—é–≤–∞–Ω–Ω—è')">
                    <h4>–ü–∞—Ç—Ä—É–ª—é–≤–∞–Ω–Ω—è</h4>
                </div>
            </div>
        </div>

        <!-- Content Pages Container -->
        <div id="content-pages"></div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>Ukraine GTA 5 | Army. –°–∞–π—Ç —Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω—ñ Danil Perets.</p>
    </div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBJU9vxpn6bMQrCIzu4ixuYNAg_TjReNCY",
            authDomain: "us-army-ukraine-gta5.firebaseapp.com",
            databaseURL: "https://us-army-ukraine-gta5-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "us-army-ukraine-gta5",
            storageBucket: "us-army-ukraine-gta5.firebasestorage.app",
            messagingSenderId: "544783269993",
            appId: "1:544783269993:web:55377448115351af7680c"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const auth = firebase.auth();

        // User management system
        let currentUser = null;
        let contentStorage = {};
        let systemLogs = [];
        let currentCardType = '';
        let isInitialLoad = true;

        // WYSIWYG Editor Variables
        let currentColorCommand = '';
        let colorPicker = null;
        let currentEditContentId = '';

        // ===== –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø =====
        function showPage(pageId) {
            console.log('Showing page:', pageId);
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü
            const contentPages = document.getElementById('content-pages');
            if (contentPages) {
                contentPages.innerHTML = '';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –º–µ–Ω—é
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === pageId) {
                    link.classList.add('active');
                }
            });
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å–∞–π–¥–±–∞—Ä –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            if (window.innerWidth <= 768) {
                const sidebar = document.querySelector('.sidebar');
                if (sidebar) {
                    sidebar.classList.remove('active');
                }
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –º–µ–Ω—é
            const menuToggle = document.querySelector('.menu-toggle');
            if (menuToggle) {
                menuToggle.style.display = 'block';
            }
        }

        // ===== –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - setting up event listeners');
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    const pageId = this.getAttribute('data-page');
                    console.log('Card clicked:', pageId);
                    if (pageId) {
                        showPage(pageId);
                    }
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å—Å—ã–ª–æ–∫ –≤ –º–µ–Ω—é
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    console.log('Nav link clicked:', pageId);
                    if (pageId) {
                        showPage(pageId);
                    }
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
            const menuToggle = document.querySelector('.menu-toggle');
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    const sidebar = document.querySelector('.sidebar');
                    if (sidebar) {
                        sidebar.classList.toggle('active');
                        this.style.display = 'none';
                    }
                });
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–∞–π–¥–±–∞—Ä–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', function(e) {
                const sidebar = document.querySelector('.sidebar');
                const menuToggle = document.querySelector('.menu-toggle');
                
                if (sidebar && menuToggle && 
                    !sidebar.contains(e.target) && 
                    !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('active');
                    menuToggle.style.display = 'block';
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            const authModal = document.querySelector('.auth-modal');
            const cardModal = document.querySelector('.card-modal');
            
            if (authModal) {
                authModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                    }
                });
            }
            
            if (cardModal) {
                cardModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeCardModal();
                    }
                });
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
            initializeEnhancedSystem();
        });

        // ===== üî• –°–ò–°–¢–ï–ú–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô =====
        function showNotification(message, type = 'info', duration = 3000) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, duration);
            
            return notification;
        }

        // ===== üéØ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –î–ï–ô–°–¢–í–ò–ô =====
        function confirmAction(message) {
            return confirm(`‚ö†Ô∏è ${message}\n\n–¶—é –¥—ñ—é –Ω–µ–º–æ–∂–ª–∏–≤–æ —Å–∫–∞—Å—É–≤–∞—Ç–∏!`);
        }

        // ===== üîç –°–ò–°–¢–ï–ú–ê –ü–û–ò–°–ö–ê =====
        function initSearch() {
            const searchInput = document.getElementById('global-search');
            const searchResults = document.getElementById('search-results');
            
            if (!searchInput) return;
            
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                searchResults.innerHTML = '';
                
                if (query.length < 2) {
                    searchResults.style.display = 'none';
                    return;
                }
                
                const results = [];
                Object.keys(contentStorage).forEach(cardId => {
                    const content = contentStorage[cardId].toLowerCase();
                    const title = getPageTitle(cardId).toLowerCase();
                    
                    if (content.includes(query) || title.includes(query)) {
                        results.push({
                            id: cardId,
                            title: getPageTitle(cardId),
                            content: contentStorage[cardId].substring(0, 100) + '...'
                        });
                    }
                });
                
                if (results.length > 0) {
                    results.forEach(result => {
                        const item = document.createElement('div');
                        item.className = 'search-result-item';
                        item.innerHTML = `
                            <strong>${result.title}</strong>
                            <div style="font-size: 12px; color: var(--text-gray); margin-top: 5px;">
                                ${result.content}
                            </div>
                        `;
                        item.onclick = () => {
                            showContentPage(result.id, result.title);
                            searchInput.value = '';
                            searchResults.style.display = 'none';
                        };
                        searchResults.appendChild(item);
                    });
                    searchResults.style.display = 'block';
                } else {
                    searchResults.style.display = 'none';
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –ø–æ–∏—Å–∫–∞
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.search-container')) {
                    searchResults.style.display = 'none';
                }
            });
        }

        // ===== ‚≠ê –°–ò–°–¢–ï–ú–ê –ò–ó–ë–†–ê–ù–ù–û–ì–û =====
        function toggleFavorite(contentId) {
            let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const index = favorites.indexOf(contentId);
            
            if (index > -1) {
                favorites.splice(index, 1);
                showNotification('–í–∏–¥–∞–ª–µ–Ω–æ –∑ –æ–±—Ä–∞–Ω–æ–≥–æ', 'info');
            } else {
                favorites.push(contentId);
                showNotification('–î–æ–¥–∞–Ω–æ –≤ –æ–±—Ä–∞–Ω–µ', 'success');
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoritesDisplay();
        }

        function updateFavoritesDisplay() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                const contentId = btn.dataset.contentId;
                if (contentId && favorites.includes(contentId)) {
                    btn.classList.add('active');
                    btn.innerHTML = '‚≠ê';
                } else {
                    btn.classList.remove('active');
                    btn.innerHTML = '‚òÜ';
                }
            });
        }

        // ===== üíæ –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï =====
        function exportData() {
            const data = {
                content: contentStorage,
                exportDate: new Date().toISOString(),
                version: '1.0'
            };
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `military-academy-backup-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            showNotification('–î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ', 'success');
        }

        function importData(file) {
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    if (data.content) {
                        if (confirmAction('–¶—è –¥—ñ—è –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ –≤—Å—ñ –ø–æ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ. –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏?')) {
                            contentStorage = data.content;
                            saveContentToFirebase();
                            updateAllPages();
                            updateEnhancedMenu();
                            showNotification('–î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ', 'success');
                        }
                    }
                } catch (error) {
                    showNotification('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —ñ–º–ø–æ—Ä—Ç—ñ –¥–∞–Ω–∏—Ö', 'error');
                    console.error('Import error:', error);
                }
            };
            reader.readAsText(file);
        }

        // ===== üìù WYSIWYG –†–ï–î–ê–ö–¢–û–† =====
        function formatText(command, value = null) {
            document.execCommand(command, false, value);
            document.getElementById('new-card-content').focus();
        }

        function showColorPicker(command) {
            currentColorCommand = command;
            colorPicker = document.getElementById('color-picker');
            if (colorPicker) {
                colorPicker.style.display = 'block';
                
                const toolbar = document.getElementById('editor-toolbar');
                const rect = toolbar.getBoundingClientRect();
                colorPicker.style.top = (rect.bottom + 5) + 'px';
                colorPicker.style.left = (rect.left + 200) + 'px';
            }
        }

        function setColor(color) {
            formatText(currentColorCommand, color);
            if (colorPicker) {
                colorPicker.style.display = 'none';
            }
        }

        function insertLink() {
            const url = prompt('–í–≤–µ–¥—ñ—Ç—å URL –ø–æ—Å–∏–ª–∞–Ω–Ω—è:', 'https://');
            if (url) {
                formatText('createLink', url);
            }
        }

        function insertImage() {
            const url = prompt('–í–≤–µ–¥—ñ—Ç—å URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:', 'https://');
            if (url) {
                formatText('insertImage', url);
            }
        }

        // ===== ENHANCED MENU SYSTEM =====
        function updateEnhancedMenu() {
            const sections = {
                'exams': 'exam',
                'lectures': 'lecture', 
                'training': 'training',
                'tasks': 'task'
            };
            
            Object.keys(sections).forEach(section => {
                const dropdown = document.querySelector(`[data-page="${section}"] + .dropdown-content`);
                if (dropdown) {
                    dropdown.innerHTML = '';
                    
                    const sectionCards = Object.keys(contentStorage)
                        .filter(key => key.startsWith(sections[section]))
                        .sort();
                    
                    const cardGroups = groupCardsByType(sectionCards, sections[section]);
                    
                    Object.keys(cardGroups).forEach(groupName => {
                        const groupSection = document.createElement('div');
                        groupSection.className = 'dropdown-section';
                        
                        const groupTitle = document.createElement('div');
                        groupTitle.className = 'dropdown-section-title';
                        groupTitle.textContent = groupName;
                        groupSection.appendChild(groupTitle);
                        
                        cardGroups[groupName].forEach(cardId => {
                            const link = document.createElement('a');
                            link.href = '#';
                            link.textContent = getPageTitle(cardId);
                            link.onclick = () => showContentPage(cardId, getPageTitle(cardId));
                            groupSection.appendChild(link);
                        });
                        
                        dropdown.appendChild(groupSection);
                    });
                }
            });
        }

        function groupCardsByType(cards, prefix) {
            const groups = {};
            
            cards.forEach(cardId => {
                const title = getPageTitle(cardId);
                let groupName = '–Ü–Ω—à–µ';
                
                if (title.includes('|')) {
                    groupName = title.split('|')[0].trim();
                } else if (title.includes(':')) {
                    groupName = title.split(':')[0].trim();
                } else if (prefix === 'exam') {
                    groupName = '–Ü—Å–ø–∏—Ç–∏';
                } else if (prefix === 'lecture') {
                    groupName = '–õ–µ–∫—Ü—ñ—ó';
                } else if (prefix === 'training') {
                    groupName = '–¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è';
                } else if (prefix === 'task') {
                    groupName = '–ó–∞–≤–¥–∞–Ω–Ω—è';
                }
                
                if (!groups[groupName]) {
                    groups[groupName] = [];
                }
                groups[groupName].push(cardId);
            });
            
            return groups;
        }

        // ===== ENHANCED CARD CREATION =====
        function createNewCard() {
            if (!currentUser) return;
            
            const cardId = document.getElementById('new-card-id').value.trim();
            const cardTitle = document.getElementById('new-card-title').value.trim();
            const cardContent = document.getElementById('new-card-content').innerHTML;
            
            if (!cardId || !cardTitle) {
                showNotification('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å ID —Ç–∞ –Ω–∞–∑–≤—É –∫–∞—Ä—Ç–∫–∏', 'error');
                return;
            }
            
            const fullCardId = `${currentCardType}-${cardId}`;
            
            if (contentStorage[fullCardId]) {
                showNotification('–ö–∞—Ä—Ç–∫–∞ –∑ —Ç–∞–∫–∏–º ID –≤–∂–µ —ñ—Å–Ω—É—î! –í–∏–±–µ—Ä—ñ—Ç—å —ñ–Ω—à–∏–π ID.', 'error');
                return;
            }
            
            contentStorage[fullCardId] = cardContent;
            saveContentToFirebase();
            addSystemLog('card_created', `–°—Ç–≤–æ—Ä–µ–Ω–æ –∫–∞—Ä—Ç–∫—É: ${cardTitle} (${fullCardId})`);
            updateAllPages();
            updateEnhancedMenu();
            closeCardModal();
            
            showNotification(`–ö–∞—Ä—Ç–∫–∞ "${cardTitle}" —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞!`, 'success');
        }

        function showCardModal(cardType) {
            if (!currentUser) {
                showNotification('–î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫ –ø–æ—Ç—Ä—ñ–±–Ω–æ —É–≤—ñ–π—Ç–∏ —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä', 'error');
                return;
            }
            
            currentCardType = cardType;
            const modal = document.querySelector('.card-modal');
            const title = document.getElementById('card-modal-title');
            
            const titles = {
                'exam': '–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —ñ—Å–ø–∏—Ç',
                'lecture': '–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –ª–µ–∫—Ü—ñ—é',
                'training': '–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–µ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è',
                'task': '–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è'
            };
            
            title.textContent = titles[cardType] || '–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–∞—Ä—Ç–∫—É';
            
            // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
            document.getElementById('new-card-id').value = '';
            document.getElementById('new-card-title').value = '';
            document.getElementById('new-card-content').innerHTML = '# –ù–æ–≤–∞ —Ç–µ–º–∞\n\n–¢–µ–∫—Å—Ç —â–µ –Ω–µ –¥–æ–¥–∞–Ω–æ';
            
            modal.classList.add('active');
        }

        function closeCardModal() {
            document.querySelector('.card-modal').classList.remove('active');
        }

        // ===== –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –ö–û–ù–¢–ï–ù–¢–ê =====
        function showContentPage(contentId, title) {
            const pages = document.querySelectorAll('.page');
            const contentPages = document.getElementById('content-pages');
            
            pages.forEach(page => page.classList.remove('active'));
            contentPages.innerHTML = '';
            
            const parentPage = getParentPage(contentId);
            const navButtons = getNavigationButtons(contentId, parentPage);
            const canEdit = currentUser && currentUser.isAdmin;
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤–º–µ—Å—Ç–æ Markdown
            contentPages.innerHTML = `
                <div class="page active">
                    <button class="back-button" onclick="showPage('${parentPage}')">‚Üê –ù–∞–∑–∞–¥</button>
                    <div class="content-page">
                        <div class="content-header">
                            <h2>${title}</h2>
                            <button class="favorite-btn" data-content-id="${contentId}" onclick="toggleFavorite('${contentId}')">‚òÜ</button>
                        </div>
                        <div class="content-body" id="content-${contentId}">
                            ${contentStorage[contentId] || '# –ö–æ–Ω—Ç–µ–Ω—Ç —â–µ –Ω–µ –¥–æ–¥–∞–Ω–æ'}
                        </div>
                        ${canEdit ? `
                        <div class="edit-section">
                            <h4>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç:</h4>
                            <div class="editor-toolbar" id="edit-toolbar-${contentId}">
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'bold')" title="–ñ–∏—Ä–Ω–∏–π"><b>B</b></button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'italic')" title="–ö—É—Ä—Å–∏–≤"><i>I</i></button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'underline')" title="–ü—ñ–¥–∫—Ä–µ—Å–ª–µ–Ω–Ω—è"><u>U</u></button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'strikeThrough')" title="–ó–∞–∫—Ä–µ—Å–ª–µ–Ω–∏–π">S</button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'insertUnorderedList')" title="–ú–∞—Ä–∫–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫">‚â°</button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'insertOrderedList')" title="–ù—É–º–µ—Ä–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫">‚Ññ</button>
                                <button class="editor-btn" onclick="showEditColorPicker('${contentId}', 'foreColor')" title="–ö–æ–ª—ñ—Ä —Ç–µ–∫—Å—Ç–∞">A</button>
                                <button class="editor-btn" onclick="showEditColorPicker('${contentId}', 'hiliteColor')" title="–ö–æ–ª—ñ—Ä —Ñ–æ–Ω—É">‚ñ¢</button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'justifyLeft')" title="–ü–æ –ª—ñ–≤–æ–º—É –∫—Ä–∞—é">‚´§</button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'justifyCenter')" title="–ü–æ —Ü–µ–Ω—Ç—Ä—É">‚´£</button>
                                <button class="editor-btn" onclick="formatEditText('${contentId}', 'justifyRight')" title="–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é">‚´•</button>
                                <button class="editor-btn" onclick="insertEditLink('${contentId}')" title="–í—Å—Ç–∞–≤–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è">üîó</button>
                                <button class="editor-btn" onclick="insertEditImage('${contentId}')" title="–í—Å—Ç–∞–≤–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è">üñºÔ∏è</button>
                            </div>
                            <div class="editor-content" id="edit-${contentId}" contenteditable="true">${contentStorage[contentId] || ''}</div>
                            <div class="color-picker" id="edit-color-picker-${contentId}">
                                <div style="display: flex; flex-wrap: wrap; width: 150px;">
                                    <div class="color-option" style="background: #FF0000;" onclick="setEditColor('${contentId}', '#FF0000')"></div>
                                    <div class="color-option" style="background: #00FF00;" onclick="setEditColor('${contentId}', '#00FF00')"></div>
                                    <div class="color-option" style="background: #0000FF;" onclick="setEditColor('${contentId}', '#0000FF')"></div>
                                    <div class="color-option" style="background: #FFFF00;" onclick="setEditColor('${contentId}', '#FFFF00')"></div>
                                    <div class="color-option" style="background: #FF00FF;" onclick="setEditColor('${contentId}', '#FF00FF')"></div>
                                    <div class="color-option" style="background: #00FFFF;" onclick="setEditColor('${contentId}', '#00FFFF')"></div>
                                    <div class="color-option" style="background: #000000;" onclick="setEditColor('${contentId}', '#000000')"></div>
                                    <div class="color-option" style="background: #FFFFFF;" onclick="setEditColor('${contentId}', '#FFFFFF')"></div>
                                    <div class="color-option" style="background: #808080;" onclick="setEditColor('${contentId}', '#808080')"></div>
                                    <div class="color-option" style="background: #C0C0C0;" onclick="setEditColor('${contentId}', '#C0C0C0')"></div>
                                    <div class="color-option" style="background: #800000;" onclick="setEditColor('${contentId}', '#800000')"></div>
                                    <div class="color-option" style="background: #008000;" onclick="setEditColor('${contentId}', '#008000')"></div>
                                </div>
                            </div>
                            <button class="edit-button" onclick="saveContentItem('${contentId}')">–ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏</button>
                            <p><small>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞–Ω–µ–ª—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É</small></p>
                        </div>
                        ` : ''}
                        ${navButtons}
                    </div>
                </div>
            `;
            
            updateFavoritesDisplay();
            
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === parentPage) {
                    link.classList.add('active');
                }
            });
        }

        // WYSIWYG –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
        function formatEditText(contentId, command, value = null) {
            const editor = document.getElementById(`edit-${contentId}`);
            if (editor) {
                document.execCommand(command, false, value);
                editor.focus();
            }
        }

        function showEditColorPicker(contentId, command) {
            currentColorCommand = command;
            currentEditContentId = contentId;
            const colorPicker = document.getElementById(`edit-color-picker-${contentId}`);
            if (colorPicker) {
                colorPicker.style.display = 'block';
                
                const toolbar = document.getElementById(`edit-toolbar-${contentId}`);
                if (toolbar) {
                    const rect = toolbar.getBoundingClientRect();
                    colorPicker.style.top = (rect.bottom + 5) + 'px';
                    colorPicker.style.left = (rect.left + 200) + 'px';
                }
            }
        }

        function setEditColor(contentId, color) {
            formatEditText(contentId, currentColorCommand, color);
            const colorPicker = document.getElementById(`edit-color-picker-${contentId}`);
            if (colorPicker) {
                colorPicker.style.display = 'none';
            }
        }

        function insertEditLink(contentId) {
            const url = prompt('–í–≤–µ–¥—ñ—Ç—å URL –ø–æ—Å–∏–ª–∞–Ω–Ω—è:', 'https://');
            if (url) {
                formatEditText(contentId, 'createLink', url);
            }
        }

        function insertEditImage(contentId) {
            const url = prompt('–í–≤–µ–¥—ñ—Ç—å URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:', 'https://');
            if (url) {
                formatEditText(contentId, 'insertImage', url);
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
        function saveContentItem(contentId) {
            if (!currentUser || !currentUser.isAdmin) return;
            
            const editor = document.getElementById(`edit-${contentId}`);
            if (editor) {
                contentStorage[contentId] = editor.innerHTML;
                const contentElement = document.getElementById(`content-${contentId}`);
                if (contentElement) {
                    contentElement.innerHTML = contentStorage[contentId];
                }
                
                addSystemLog('content_edit', `–í—ñ–¥—Ä–µ–¥–∞–≥–æ–≤–∞–Ω–æ —Ä–æ–∑–¥—ñ–ª: ${getPageTitle(contentId)}`);
                saveContentToFirebase();
                
                showNotification('–ó–º—ñ–Ω–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ! –í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –ø–æ–±–∞—á–∞—Ç—å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.', 'success');
            }
        }

        // ===== –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –£–î–ê–õ–ï–ù–ò–Ø =====
        function deleteCard(cardId, event) {
            if (!currentUser) return;
            event.stopPropagation();
            
            const cardTitle = getPageTitle(cardId);
            
            if (!confirmAction(`–í–∏–¥–∞–ª–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É "${cardTitle}"?`)) {
                return;
            }
            
            delete contentStorage[cardId];
            saveContentToFirebase();
            addSystemLog('card_deleted', `–í–∏–¥–∞–ª–µ–Ω–æ –∫–∞—Ä—Ç–∫—É: ${cardTitle} (${cardId})`);
            updateAllPages();
            updateEnhancedMenu();
            showNotification(`–ö–∞—Ä—Ç–∫–∞ "${cardTitle}" —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–∞!`, 'success');
        }

        // ===== –°–ò–°–¢–ï–ú–ê –õ–û–ì–û–í =====
        function addSystemLog(action, details) {
            if (!currentUser) return;
            
            const log = {
                timestamp: new Date().toISOString(),
                user: currentUser.username,
                action: action,
                details: details
            };
            
            systemLogs.unshift(log);
            if (systemLogs.length > 50) systemLogs = systemLogs.slice(0, 50);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–≥–∏ –≤ Firebase
            database.ref('systemLogs').set(systemLogs)
                .catch(error => console.error('Error saving logs:', error));
            
            updateLogsDisplay();
        }

        function loadLogsFromFirebase() {
            database.ref('systemLogs').on('value', (snapshot) => {
                const logs = snapshot.val();
                if (logs) {
                    systemLogs = logs;
                    updateLogsDisplay();
                }
            });
        }

        function initLogsListeners() {
            database.ref('systemLogs').on('value', (snapshot) => {
                const logs = snapshot.val();
                if (logs) {
                    systemLogs = logs;
                    updateLogsDisplay();
                }
            });
        }

        function updateLogsDisplay() {
            const logsList = document.getElementById('logs-list');
            if (!logsList) return;
            
            logsList.innerHTML = systemLogs.map(log => `
                <div class="log-item">
                    <span class="log-time">${new Date(log.timestamp).toLocaleString()}</span>
                    <span class="log-user">${log.user}:</span>
                    ${getActionText(log.action, log.details)}
                </div>
            `).join('');
        }

        function getActionText(action, details) {
            const actions = {
                'user_login': '–≤–≤—ñ–π—à–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É',
                'card_created': '—Å—Ç–≤–æ—Ä–∏–≤ –∫–∞—Ä—Ç–∫—É',
                'card_deleted': '–≤–∏–¥–∞–ª–∏–≤ –∫–∞—Ä—Ç–∫—É',
                'content_edit': '–≤—ñ–¥—Ä–µ–¥–∞–≥–æ–≤–∞–≤ —Ä–æ–∑–¥—ñ–ª',
                'user_added': '–¥–æ–¥–∞–≤ –Ω–æ–≤–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞'
            };
            
            return `${actions[action] || action} - ${details}`;
        }

        // ===== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ù–¢–ï–ù–¢–û–ú =====
        function loadContentFromFirebase() {
            showLoading();
            database.ref('content').on('value', (snapshot) => {
                const content = snapshot.val();
                if (content) {
                    contentStorage = content;
                } else {
                    initializeDefaultContent();
                }
                updateAllPages();
                updateEnhancedMenu();
                hideLoading();
            });
        }

        function updateAllPages() {
            updatePage('exams', 'exam');
            updatePage('lectures', 'lecture');
            updatePage('training', 'training');
            updatePage('tasks', 'task');
        }

        function updatePage(pageId, prefix) {
            const grid = document.getElementById(`${pageId}-grid`);
            if (!grid) return;
            
            const pageCards = Object.keys(contentStorage)
                .filter(key => key.startsWith(prefix))
                .sort();
            
            if (pageCards.length === 0) {
                grid.innerHTML = '<p style="color: var(--text-gray); text-align: center; grid-column: 1/-1;">–ö–∞—Ä—Ç–∫–∏ —â–µ –Ω–µ –¥–æ–¥–∞–Ω—ñ</p>';
                return;
            }
            
            grid.innerHTML = pageCards.map(cardId => {
                const title = getPageTitle(cardId);
                const canDelete = currentUser && currentUser.isAdmin;
                
                return `
                    <div class="chapter-card" onclick="showContentPage('${cardId}', '${title}')">
                        <h4>${title}</h4>
                        ${canDelete ? `
                            <button class="delete-card-btn" onclick="deleteCard('${cardId}', event)">
                                üóëÔ∏è
                            </button>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        function initializeDefaultContent() {
            // –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            const defaultContent = {
                'exam-basic': '<h1>–ë–∞–∑–æ–≤–∏–π —ñ—Å–ø–∏—Ç</h1><p>–û—Å–Ω–æ–≤–∏ –≤—ñ–π—Å—å–∫–æ–≤–æ—ó —Å–ª—É–∂–±–∏</p>',
                'lecture-tactics': '<h1>–¢–∞–∫—Ç–∏–∫–∞ –≤–µ–¥–µ–Ω–Ω—è –±–æ—é</h1><p>–û—Å–Ω–æ–≤–∏ —Ç–∞–∫—Ç–∏–∫–∏...</p>',
                'training-shooting': '<h1>–°—Ç—Ä—ñ–ª—å–±–∞</h1><p>–¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –∑—ñ —Å—Ç—Ä—ñ–ª—å–±–∏...</p>',
                'task-patrol': '<h1>–ü–∞—Ç—Ä—É–ª—é–≤–∞–Ω–Ω—è</h1><p>–ó–∞–≤–¥–∞–Ω–Ω—è –∑ –ø–∞—Ç—Ä—É–ª—é–≤–∞–Ω–Ω—è...</p>'
            };
            
            contentStorage = defaultContent;
            saveContentToFirebase();
        }

        function saveContentToFirebase() {
            if (Object.keys(contentStorage).length > 0) {
                database.ref('content').set(contentStorage)
                    .catch(error => {
                        console.error('Error saving content:', error);
                        showNotification('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö', 'error');
                    });
            }
        }

        function initContentListeners() {
            database.ref('content').on('value', (snapshot) => {
                const content = snapshot.val();
                if (content) {
                    contentStorage = content;
                    updateCurrentPageContent();
                }
            });
        }

        function updateCurrentPageContent() {
            const activeContent = document.querySelector('.content-body');
            if (activeContent && activeContent.id.startsWith('content-')) {
                const contentId = activeContent.id.replace('content-', '');
                if (contentStorage[contentId]) {
                    activeContent.innerHTML = contentStorage[contentId];
                }
            }
        }

        function getParentPage(contentId) {
            if (contentId.startsWith('exam-')) return 'exams';
            if (contentId.startsWith('lecture-')) return 'lectures';
            if (contentId.startsWith('training-')) return 'training';
            if (contentId.startsWith('task-')) return 'tasks';
            return 'home';
        }

        function getPageTitle(contentId) {
            const content = contentStorage[contentId];
            if (!content) return '–ë–µ–∑ –Ω–∞–∑–≤–∏';
            
            // –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            const match = content.match(/<h1[^>]*>(.*?)<\/h1>/i) || 
                          content.match(/<h2[^>]*>(.*?)<\/h2>/i) ||
                          content.match(/<h3[^>]*>(.*?)<\/h3>/i);
            
            return match ? match[1].replace(/<[^>]*>/g, '') : '–ë–µ–∑ –Ω–∞–∑–≤–∏';
        }

        function getNavigationButtons(contentId, parentPage) {
            const allCards = Object.keys(contentStorage)
                .filter(key => key.startsWith(contentId.split('-')[0]))
                .sort();
            
            const currentIndex = allCards.indexOf(contentId);
            
            if (allCards.length <= 1) return '';
            
            return `
                <div class="nav-buttons">
                    ${currentIndex > 0 ? `
                        <button class="nav-btn" onclick="showContentPage('${allCards[currentIndex - 1]}', '${getPageTitle(allCards[currentIndex - 1])}')">
                            ‚Üê –ü–æ–ø–µ—Ä–µ–¥–Ω—è
                        </button>
                    ` : '<div></div>'}
                    
                    ${currentIndex < allCards.length - 1 ? `
                        <button class="nav-btn" onclick="showContentPage('${allCards[currentIndex + 1]}', '${getPageTitle(allCards[currentIndex + 1])}')">
                            –ù–∞—Å—Ç—É–ø–Ω–∞ ‚Üí
                        </button>
                    ` : '<div></div>'}
                </div>
            `;
        }

        // ===== –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø =====
        function showLoginModal() {
            document.querySelector('.auth-modal').classList.add('active');
        }

        function login() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            const message = document.getElementById('login-message');
            
            if (!username || !password) {
                showMessage(message, '–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è', 'error');
                return;
            }
            
            const email = `${username}@military-academy.com`;
            
            showLoading();
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    showMessage(message, '–£—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥!', 'success');
                    setTimeout(() => {
                        document.querySelector('.auth-modal').classList.remove('active');
                        hideLoading();
                    }, 1000);
                })
                .catch((error) => {
                    showMessage(message, '–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å', 'error');
                    hideLoading();
                    console.error('Login error:', error);
                });
        }

        function logout() {
            if (confirmAction('–í–∏ –¥—ñ–π—Å–Ω–æ –±–∞–∂–∞—î—Ç–µ –≤–∏–π—Ç–∏?')) {
                auth.signOut().then(() => {
                    showNotification('–í–∏ —É—Å–ø—ñ—à–Ω–æ –≤–∏–π—à–ª–∏ –∑ —Å–∏—Å—Ç–µ–º–∏', 'info');
                });
            }
        }

        function showMessage(element, text, type) {
            element.textContent = text;
            element.className = `auth-message ${type}`;
            element.style.display = 'block';
        }

        function updateUserPanel() {
            const loginBtn = document.getElementById('login-btn');
            const userInfo = document.getElementById('user-info');
            const adminBtn = document.getElementById('admin-btn');
            const logoutBtn = document.getElementById('logout-btn');
            
            if (currentUser) {
                loginBtn.style.display = 'none';
                userInfo.style.display = 'block';
                adminBtn.style.display = 'block';
                logoutBtn.style.display = 'block';
                userInfo.textContent = currentUser.username;
            } else {
                loginBtn.style.display = 'block';
                userInfo.style.display = 'none';
                adminBtn.style.display = 'none';
                logoutBtn.style.display = 'none';
            }
        }

        // ===== –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨ =====
        function showAdminPanel() {
            if (!currentUser) return;
            
            document.querySelector('.admin-overlay').classList.add('active');
            document.querySelector('.admin-panel').classList.add('active');
            updateLogsDisplay();
        }

        function closeAdminPanel() {
            document.querySelector('.admin-overlay').classList.remove('active');
            document.querySelector('.admin-panel').classList.remove('active');
        }

        function addUser() {
            if (!currentUser) return;
            
            const username = document.getElementById('new-username').value;
            const password = document.getElementById('new-password').value;
            
            if (!username || !password) {
                showNotification('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è', 'error');
                return;
            }
            
            const email = `${username}@military-academy.com`;
            
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    showNotification('–ù–æ–≤–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!', 'success');
                    document.getElementById('new-username').value = '';
                    document.getElementById('new-password').value = '';
                    addSystemLog('user_added', `–î–æ–¥–∞–Ω–æ –Ω–æ–≤–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞: ${username}`);
                })
                .catch((error) => {
                    showNotification('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞', 'error');
                    console.error('User creation error:', error);
                });
        }

        // ===== –£–¢–ò–õ–ò–¢–´ =====
        function showLoading() {
            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
        }

        function hideLoading() {
            // –°–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
        }

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –£–õ–£–ß–®–ï–ù–ù–û–ô –°–ò–°–¢–ï–ú–´ =====
        function initializeEnhancedSystem() {
            initializeData();
            initSearch();
            updateFavoritesDisplay();
            
            console.log(`
            ===== MILITARY ACADEMY ENHANCED =====
            ‚úÖ –≠—Ç–∞–ø 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –±–∞–∑–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
            ‚úÖ –≠—Ç–∞–ø 2: –ü–æ–∏—Å–∫ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è  
            ‚úÖ WYSIWYG Editor: ACTIVE
            ‚úÖ Smart Menu: ACTIVE
            ‚úÖ Dark Military Theme: ACTIVE
            üöÄ All systems operational!
            `);
        }

        function initializeData() {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    currentUser = {
                        username: user.email.split('@')[0],
                        isAdmin: true,
                        uid: user.uid
                    };
                    updateUserPanel();
                    loadContentFromFirebase();
                    loadLogsFromFirebase();
                    addSystemLog('user_login', `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á ${currentUser.username} —É–≤—ñ–π—à–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É`);
                } else {
                    currentUser = null;
                    updateUserPanel();
                    loadContentFromFirebase();
                }
            });

            initContentListeners();
            initLogsListeners();
        }

        // Close color picker when clicking outside
        document.addEventListener('click', (e) => {
            if (colorPicker && !colorPicker.contains(e.target) && 
                !e.target.classList.contains('editor-btn')) {
                colorPicker.style.display = 'none';
            }
            
            // Close edit color pickers
            document.querySelectorAll('.color-picker').forEach(picker => {
                if (!picker.contains(e.target) && !e.target.classList.contains('editor-btn')) {
                    picker.style.display = 'none';
                }
            });
        });

        // ===== –ë–´–°–¢–†–´–ô –¢–ï–°–¢ =====
        // –î–æ–±–∞–≤–∏–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function addTestButton() {
            const testBtn = document.createElement('button');
            testBtn.textContent = 'üîß –¢–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏';
            testBtn.style.cssText = `
                position: fixed;
                bottom: 80px;
                right: 20px;
                background: var(--primary);
                color: white;
                border: none;
                padding: 10px 15px;
                border-radius: 6px;
                cursor: pointer;
                z-index: 1000;
            `;
            testBtn.onclick = function() {
                alert('–ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É...');
                showPage('exams');
            };
            document.body.appendChild(testBtn);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
        setTimeout(addTestButton, 1000);
    </script>
</body>
</html>
